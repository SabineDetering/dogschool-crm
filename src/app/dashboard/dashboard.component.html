<mat-tab-group animationDuration="0ms">


    <mat-tab label="Upcoming Trainings">
        <p class="pt-16">Scheduled trainings in the next 7 days</p>

        <div class="table-container mat-elevation-z8 mt-16 mb-16  ">
            <table mat-table [dataSource]="upcomingTrainings" class="full-width">

                <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef>Date </th>
                    <td mat-cell *matCellDef="let training"> {{ training.date|date:'short' }} </td>
                </ng-container>

                <mat-text-column name="duration"></mat-text-column>

                <ng-container matColumnDef="client">
                    <th mat-header-cell *matHeaderCellDef>Client </th>
                    <td mat-cell *matCellDef="let training">
                        {{ getClientNameById(training.clientID) }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="dog">
                    <th mat-header-cell *matHeaderCellDef>Dog </th>
                    <td mat-cell *matCellDef="let training">
                        {{ getDogNameById(training.dogID) }}
                    </td>
                </ng-container>

                <mat-text-column name="location"></mat-text-column>

                <mat-text-column name="subject"></mat-text-column>

                <tr mat-header-row *matHeaderRowDef="trainingTableColumns;sticky: true"></tr>
                <tr mat-row (click)="showRow(row)" *matRowDef="let row; columns:trainingTableColumns;"></tr>

            </table>
        </div>
    </mat-tab>


    <mat-tab label="Call to make an appointment">
        <p class="pt-16">The table shows the last training session of all dogs that haven't had a training during the last 4 weeks and that have no training scheduled in the future. </p>

        <div class="table-container mat-elevation-z8 mt-16 mb-16  ">
            <table mat-table [dataSource]="latestTrainings" class="full-width">

                <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef>Date </th>
                    <td mat-cell *matCellDef="let training"> {{ training.date|date:'shortDate' }} </td>
                </ng-container>

                <ng-container matColumnDef="dog">
                    <th mat-header-cell *matHeaderCellDef>Dog </th>
                    <td mat-cell *matCellDef="let training">
                        {{ getDogNameById(training.dogID) }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="client">
                    <th mat-header-cell *matHeaderCellDef>Client </th>
                    <td mat-cell *matCellDef="let training">
                        {{ getClientNameById(training.clientID) }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="contact">
                    <th mat-header-cell *matHeaderCellDef>Client contact </th>
                    <td mat-cell *matCellDef="let training">
                        {{ getClientContactById(training.clientID) }}
                    </td>
                </ng-container>                

                <mat-text-column name="subject"></mat-text-column>

                <ng-container matColumnDef="topics">
                    <th mat-header-cell *matHeaderCellDef>Main topics</th>
                    <td mat-cell *matCellDef="let training">
                        {{ training.topics }}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="latestTableColumns;sticky: true"></tr>
                <tr mat-row (click)="showRow(row)" *matRowDef="let row; columns:latestTableColumns;"></tr>

            </table>
        </div>
    </mat-tab>


    <mat-tab label="Clients with incomplete data">
        <p class="pt-16">The data of these clients should be completed. Click on a table row to edit.</p>

        <div class="table-container mat-elevation-z8 mt-16 mb-16  ">
            <table mat-table [dataSource]="tableClients" class="full-width">

                <ng-container matColumnDef="clientNumber">
                    <th mat-header-cell *matHeaderCellDef>No. </th>
                    <td mat-cell *matCellDef="let client"> {{client.clientNumber}} </td>
                </ng-container>

                <ng-container matColumnDef="firstName">
                    <th mat-header-cell *matHeaderCellDef>Firstname </th>
                    <td mat-cell *matCellDef="let client"> {{client.firstName}} </td>
                </ng-container>

                <ng-container matColumnDef="lastName">
                    <th mat-header-cell *matHeaderCellDef>Lastname </th>
                    <td mat-cell *matCellDef="let client"> {{client.lastName}} </td>
                </ng-container>

                <ng-container matColumnDef="missingProps">
                    <th mat-header-cell *matHeaderCellDef>Missing data</th>
                    <td mat-cell *matCellDef="let client">
                        {{ getMissingClientProps(client) }}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="clientTableColumns;sticky: true"></tr>
                <tr mat-row (click)="showRow(row)" *matRowDef="let row; columns:clientTableColumns;"></tr>

            </table>
        </div>
    </mat-tab>


    <mat-tab label="Dogs with incomplete data">
        <p class="pt-16">The data of these dogs should be completed. Click on a table row to edit.</p>

        <div class="table-container mat-elevation-z8 mt-16 mb-16  ">
            <table mat-table [dataSource]="tableDogs" class="full-width">

                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef>Name </th>
                    <td mat-cell *matCellDef="let dog">
                        {{ dog.name }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="breed">
                    <th mat-header-cell *matHeaderCellDef>Breed </th>
                    <td mat-cell *matCellDef="let dog">
                        {{ dog.breed }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="owner1">
                    <th mat-header-cell *matHeaderCellDef>Owner 1</th>
                    <td mat-cell *matCellDef="let dog">
                        {{ getClientNameById(dog.ownerIds[0]) }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="missingProps">
                    <th mat-header-cell *matHeaderCellDef>Missing data</th>
                    <td mat-cell *matCellDef="let dog">
                        {{ getMissingDogProps(dog) }}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="dogTableColumns;sticky: true"></tr>
                <tr mat-row (click)="showRow(row)" *matRowDef="let row; columns:dogTableColumns;"></tr>

            </table>
        </div>
    </mat-tab>
</mat-tab-group>

<!-- 
<ng-container *ngIf="(asyncTabs | async) === null">
    Loading tabs...
</ng-container>

<mat-tab-group>
    <mat-tab *ngFor="let tab of asyncTabs | async">
        <ng-template mat-tab-label>{{tab.label}}</ng-template>
        {{tab.content}}
    </mat-tab>
</mat-tab-group> -->